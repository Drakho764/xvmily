<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Invitación 3D</title>
  <style>
    html,
    body {
      margin: 0;
      padding: 0;
      height: 100%;
      background: radial-gradient(#000000, #000000);
      overflow: hidden;
      display: flex;
      justify-content: center;
      align-items: center;
    }

    .canvas-container {
      width: 100%;
      height: 100%;
      display: flex;
      justify-content: center;
      align-items: center;
      padding: 5vh 0;
      /* margen visual arriba y abajo */
      box-sizing: border-box;
    }

    canvas {
      max-width: 100%;
      max-height: 100%;
      display: block;
    }

    #btnBoda {
      position: fixed;
      bottom: 30px;
      /* un poco más arriba del borde */
      right: 30px;
      /* margen desde la derecha */
      z-index: 10000;
      /* encima de la escena 3D */
      background-color: rgba(3, 15, 119, 0.9);
      /* semi-transparente */
      color: white;
      padding: 12px 22px;
      border-radius: 50px;
      /* bordes redondeados */
      font-weight: bold;
      text-decoration: none;
      font-size: 1.2rem;
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
      transition: all 0.3s ease;
    }

    #btnBoda:hover {
      transform: scale(1.1);
      background-color: rgba(22, 100, 189, 0.95);
    }
  </style>
</head>

<body>
  <div class="canvas-container"></div>
  <!-- Botón flotante -->
  <a href="https://araceliyjuliocesar.vercel.app/" target="_blank" id="btnBoda" class="btn-floating">
    Boda A&JC
  </a>
  <!-- Three.js -->
  <script src="https://cdn.jsdelivr.net/npm/three@0.160.0/build/three.min.js"></script>
  <script>
    const container = document.querySelector('.canvas-container');

    // Escena y cámara
    const scene = new THREE.Scene();
    const camera = new THREE.PerspectiveCamera(
      45,
      window.innerWidth / window.innerHeight,
      0.1,
      1000
    );
    camera.position.z = 15;

    // Renderizador
    const renderer = new THREE.WebGLRenderer({ antialias: true, alpha: true });
    renderer.setSize(window.innerWidth, window.innerHeight);
    container.appendChild(renderer.domElement);

    // Luces
    const dirLight = new THREE.DirectionalLight(0xffffff, 1);
    dirLight.position.set(5, 5, 5);
    scene.add(dirLight);
    scene.add(new THREE.AmbientLight(0xffffff, 0.4));

    // Texturas
    const frontTexture = new THREE.TextureLoader().load("1.png");
    frontTexture.minFilter = THREE.LinearFilter; // para mejorar nitidez
    frontTexture.magFilter = THREE.LinearFilter;

    const backTexture = new THREE.TextureLoader().load("2.png");
    backTexture.minFilter = THREE.LinearFilter;
    backTexture.magFilter = THREE.LinearFilter;

    renderer.setPixelRatio(window.devicePixelRatio);
    // Materialess
    const materials = [
      new THREE.MeshPhongMaterial({ color: 0xdddddd }),
      new THREE.MeshPhongMaterial({ color: 0xdddddd }),
      new THREE.MeshPhongMaterial({ color: 0xffffff }),
      new THREE.MeshPhongMaterial({ color: 0xffffff }),
      new THREE.MeshPhongMaterial({ map: frontTexture, shininess: 50, specular: 0xffffff }),
      new THREE.MeshPhongMaterial({ map: backTexture, shininess: 50, specular: 0xffffff })
    ];

    // Geometría tipo tarjeta
    const geometry = new THREE.BoxGeometry(6, 8, 0.1); // grosor visible
    const invitacion = new THREE.Mesh(geometry, materials);
    scene.add(invitacion);

    // Rotación
    let isRotating = true;

    function animate() {
      requestAnimationFrame(animate);
      if (isRotating) invitacion.rotation.y += 0.007;
      renderer.render(scene, camera);
    }
    animate();

    // Pausar / reanudar rotación al hacer clic
    window.addEventListener("click", () => {
      isRotating = !isRotating;
    });

    // Ajuste al redimensionar
    window.addEventListener("resize", () => {
      camera.aspect = window.innerWidth / window.innerHeight;
      camera.updateProjectionMatrix();
      renderer.setSize(window.innerWidth, window.innerHeight);
    });
  </script>
</body>

</html>
